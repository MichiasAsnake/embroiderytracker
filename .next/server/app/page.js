(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},6559:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var a=t(7096),r=t(6132),l=t(7284),i=t.n(l),n=t(2564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3982)),"C:\\Users\\get2damoney\\Desktop\\embroider\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,5345)),"C:\\Users\\get2damoney\\Desktop\\embroider\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\get2damoney\\Desktop\\embroider\\app\\page.tsx"],m="/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},993:(e,s,t)=>{Promise.resolve().then(t.bind(t,4792))},4792:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Dashboard});var a=t(784),r=t(9885);let l=[{id:"single1",name:"Single Head 1",heads:1,isActive:!1,elapsedTime:0},{id:"single2",name:"Single Head 2",heads:1,isActive:!1,elapsedTime:0},{id:"six1",name:"6 Head Machine",heads:6,isActive:!1,elapsedTime:0},{id:"eight1",name:"8 Head Machine",heads:8,isActive:!1,elapsedTime:0}],i={totalOrders:0,completedOrders:0,totalPanels:0,totalQuantity:0,dailyStats:{}},n={getMachines:()=>l,saveMachines(e){},getOrders:()=>[],saveOrders(e){},getStatistics:()=>i,saveStatistics(e){},getTimers:()=>({}),saveTimers(e){}},formatTime=e=>`${Math.floor(e/3600).toString().padStart(2,"0")}:${Math.floor(e%3600/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`;var d=t(7552),o=t(2954),c=t(8168);function MachineCard({machine:e,orders:s,onMachineUpdate:t,onOrderUpdate:l}){let[i,n]=(0,r.useState)(0),[m,x]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),h=s.find(s=>s.assignedMachine===e.id&&"in-progress"===s.status);(0,r.useEffect)(()=>{let s;return m&&u&&(s=setInterval(()=>{let s=Math.floor((Date.now()-u)/1e3);n(e.elapsedTime+s)},1e3)),()=>{s&&clearInterval(s)}},[m,u,e.elapsedTime]);let g=m?i:e.elapsedTime;return a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[e.heads," head(s)"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-mono font-bold text-gray-900",children:formatTime(g)}),a.jsx("div",{className:`text-sm ${e.isActive?"text-green-600":"text-gray-500"}`,children:e.isActive?"Running":"Idle"})]}),h&&(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-md",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900",children:h.title}),(0,a.jsxs)("p",{className:"text-xs text-blue-700",children:["Job #",h.jobNumber]}),(0,a.jsxs)("p",{className:"text-xs text-blue-700",children:["Panel: ",h.panelNumber]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[m?(0,a.jsxs)("button",{onClick:()=>{if(u){let s=Math.floor((Date.now()-u)/1e3),a=e.elapsedTime+s;x(!1),p(null);let r={...e,isActive:!1,elapsedTime:a,startTime:void 0};if(t(r),h){let e={...h,status:"paused",timeSpent:h.timeSpent+s};l(e)}}},className:"btn-secondary flex-1 flex items-center justify-center gap-1",children:[a.jsx(o.Z,{size:16}),"Pause"]}):(0,a.jsxs)("button",{onClick:()=>{if(h){x(!0),p(Date.now());let s={...e,isActive:!0,startTime:Date.now()};t(s);let a={...h,status:"in-progress"};l(a)}},disabled:!h,className:"btn-success flex-1 flex items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(d.Z,{size:16}),"Start"]}),(0,a.jsxs)("button",{onClick:()=>{if(u){let s=Math.floor((Date.now()-u)/1e3);e.elapsedTime,x(!1),p(null),n(0);let a={...e,isActive:!1,elapsedTime:0,startTime:void 0,currentOrder:void 0};if(t(a),h){let e={...h,status:"completed",timeSpent:h.timeSpent+s,assignedMachine:void 0};l(e)}}},disabled:!h,className:"btn-danger flex-1 flex items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(c.Z,{size:16}),"Stop"]})]})]})})}var m=t(517),x=t(5441),u=t(7439),p=t(5987);function OrderList({orders:e,machines:s,onOrderUpdate:t}){let getStatusColor=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"paused":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},getDueDateColor=e=>0===e?"text-red-600 font-semibold":1===e?"text-orange-600 font-medium":"text-gray-600",handleAssignMachine=(e,s)=>{let a={...e,assignedMachine:s,status:"pending"};t(a)},handleUnassignMachine=e=>{let s={...e,assignedMachine:void 0,status:"pending"};t(s)};return a.jsx("div",{className:"space-y-4",children:0===e.length?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders yet. Create your first order to get started."}):e.map(e=>a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Job #",e.jobNumber]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(e.status)}`,children:e.status})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(m.Z,{size:16,className:"text-gray-400"}),a.jsx("span",{className:getDueDateColor(e.dueDays),children:0===e.dueDays?"Due Today":`${e.dueDays} day(s)`})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{size:16,className:"text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-600",children:[e.quantity," qty"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.Z,{size:16,className:"text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-600",children:["Panel ",e.panelNumber]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(p.Z,{size:16,className:"text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-600",children:[e.machineSpeed," RPM"]})]})]}),a.jsx("div",{className:"mt-3",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Thread Colors: ",e.threadColors.join(", ")]})})]}),(0,a.jsxs)("div",{className:"border-t lg:border-t-0 lg:border-l pt-4 lg:pt-0 lg:pl-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Machine Assignment"}),e.assignedMachine?a.jsx("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-blue-600 font-medium",children:s.find(s=>s.id===e.assignedMachine)?.name}),a.jsx("button",{onClick:()=>handleUnassignMachine(e),className:"text-xs text-red-600 hover:text-red-800",children:"Unassign"})]})}):a.jsx("div",{className:"space-y-2",children:s.map(s=>(0,a.jsxs)("button",{onClick:()=>handleAssignMachine(e,s.id),disabled:s.isActive,className:"w-full text-left px-3 py-2 text-sm border rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:s.name}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[s.heads," head(s)"]})]}),s.isActive&&a.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"Currently running"})]},s.id))})]})]})},e.id))})}function StatisticsCard({title:e,value:s,icon:t}){return a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s})]}),a.jsx("div",{className:"text-3xl",children:t})]})})}var h=t(6206);function CreateOrderForm({machines:e,onSubmit:s,onCancel:t}){let[l,i]=(0,r.useState)({title:"",jobNumber:"",quantity:1,panelNumber:"",threadColors:[""],machineSpeed:1e3,dueDays:0,assignedMachine:"",status:"pending"}),updateThreadColor=(e,s)=>{i(t=>({...t,threadColors:t.threadColors.map((t,a)=>a===e?s:t)}))},removeThreadColor=e=>{l.threadColors.length>1&&i(s=>({...s,threadColors:s.threadColors.filter((s,t)=>t!==e)}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Order"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(h.Z,{size:24})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t={...l,threadColors:l.threadColors.filter(e=>""!==e.trim()),assignedMachine:l.assignedMachine||void 0};s(t)},className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),a.jsx("input",{type:"text",required:!0,value:l.title,onChange:e=>i(s=>({...s,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Order title"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Number *"}),a.jsx("input",{type:"text",required:!0,value:l.jobNumber,onChange:e=>i(s=>({...s,jobNumber:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Job #"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),a.jsx("input",{type:"number",required:!0,min:"1",value:l.quantity,onChange:e=>i(s=>({...s,quantity:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Panel Number *"}),a.jsx("input",{type:"text",required:!0,value:l.panelNumber,onChange:e=>i(s=>({...s,panelNumber:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Panel #"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Machine Speed (RPM) *"}),a.jsx("input",{type:"number",required:!0,min:"100",max:"3000",value:l.machineSpeed,onChange:e=>i(s=>({...s,machineSpeed:parseInt(e.target.value)||1e3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date (Days from now) *"}),(0,a.jsxs)("select",{value:l.dueDays,onChange:e=>i(s=>({...s,dueDays:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:0,children:"Today"}),a.jsx("option",{value:1,children:"1 day"}),a.jsx("option",{value:2,children:"2 days"}),a.jsx("option",{value:3,children:"3 days"}),a.jsx("option",{value:7,children:"1 week"}),a.jsx("option",{value:14,children:"2 weeks"}),a.jsx("option",{value:30,children:"1 month"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thread Colors *"}),(0,a.jsxs)("div",{className:"space-y-2",children:[l.threadColors.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",required:!0,value:e,onChange:e=>updateThreadColor(s,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Thread color ${s+1}`}),l.threadColors.length>1&&a.jsx("button",{type:"button",onClick:()=>removeThreadColor(s),className:"px-3 py-2 text-red-600 hover:text-red-800",children:"Remove"})]},s)),a.jsx("button",{type:"button",onClick:()=>{i(e=>({...e,threadColors:[...e.threadColors,""]}))},className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add another color"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Machine (Optional)"}),(0,a.jsxs)("select",{value:l.assignedMachine,onChange:e=>i(s=>({...s,assignedMachine:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"No machine assigned"}),e.map(e=>(0,a.jsxs)("option",{value:e.id,disabled:e.isActive,children:[e.name," (",e.heads," heads)"," ",e.isActive?"- Running":""]},e.id))]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Create Order"}),a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1",children:"Cancel"})]})]})]})})}var g=t(2385);function Dashboard(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)([]),[i,d]=(0,r.useState)({totalOrders:0,completedOrders:0,totalPanels:0,totalQuantity:0,dailyStats:{}}),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s(n.getMachines()),l(n.getOrders()),d(n.getStatistics())},[]);let handleUpdateOrder=e=>{let s=t.map(s=>s.id===e.id?e:s);if(l(s),n.saveOrders(s),"completed"===e.status&&!e.completedAt){let s={...e,completedAt:Date.now()},a=t.map(e=>e.id===s.id?s:e);l(a),n.saveOrders(a);let r={...i,completedOrders:i.completedOrders+1};d(r),n.saveStatistics(r)}},handleMachineUpdate=t=>{let a=e.map(e=>e.id===t.id?t:e);s(a),n.saveMachines(a)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(StatisticsCard,{title:"Total Orders",value:i.totalOrders,icon:"\uD83D\uDCCB"}),a.jsx(StatisticsCard,{title:"Completed Orders",value:i.completedOrders,icon:"✅"}),a.jsx(StatisticsCard,{title:"Total Panels",value:i.totalPanels,icon:"\uD83E\uDDF5"}),a.jsx(StatisticsCard,{title:"Total Quantity",value:i.totalQuantity,icon:"\uD83D\uDCCA"})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Machines"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(e=>a.jsx(MachineCard,{machine:e,orders:t,onMachineUpdate:handleMachineUpdate,onOrderUpdate:handleUpdateOrder},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Orders"}),(0,a.jsxs)("button",{onClick:()=>c(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(g.Z,{size:20}),"Create Order"]})]}),a.jsx(OrderList,{orders:t,machines:e,onOrderUpdate:handleUpdateOrder})]}),o&&a.jsx(CreateOrderForm,{machines:e,onSubmit:e=>{let s={...e,id:Date.now().toString(),createdAt:Date.now(),timeSpent:0},a=[...t,s];l(a),n.saveOrders(a);let r={...i,totalOrders:i.totalOrders+1,totalPanels:i.totalPanels+parseInt(e.panelNumber),totalQuantity:i.totalQuantity+e.quantity};d(r),n.saveStatistics(r),c(!1)},onCancel:()=>c(!1)})]})}},3982:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>d});var a=t(5153);let r=(0,a.createProxy)(String.raw`C:\Users\get2damoney\Desktop\embroider\app\page.tsx`),{__esModule:l,$$typeof:i}=r,n=r.default,d=n}};var s=require("../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[472,671,703],()=>__webpack_exec__(6559));module.exports=t})();